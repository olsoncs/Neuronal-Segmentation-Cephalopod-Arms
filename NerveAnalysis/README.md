**Segmentation Nerve Analysis**

Cassady S. Olson

**Overview:**

avgNerveTrajectory.ipynb finds and plots the average trajectory of the brachial nerves, constructed by a vector from the root of the nerve to the center of the process. Trajectories are colored by septum of exit, which were manually selected.

brachialTipDistribution.ipynb plots the distribution of the brachial nerve tips along the proximal-distal and aboral-oral axis. Tips are colored by the septum of exit. 

shollPlots.ipynb fits sholl analysis data generated by SNT (https://imagej.net/plugins/sholl-analysis) with a 5th degree polynomial and plots the profile. Profiles are colored by the septum of exit. 

suckerTipDistribution.ipynb examines the distribution of oral nerve tips around the sucker. Nerves are tagged as originating from the internal ANC (InA) or external ANC (ExA). 

nerveAnalysisFunctions.py contains functions used in the above notebooks. 

**In the data folder:**

data/TipAlphaTub/aboral and data/TipAlphaTub/central contain the traces for the central and aboral brachial nerve fibers found using SNT from a transverse wholemount immunohistochemistry with acetylated alpha tubulin. 

data/TipAlphaTub/ShollAnalysis/Aboral contains the raw sholl data generated by SNT. 

data/Sucker/AT_Tran_ESOral_2 and data/Sucker/AT_Tran_ISOral_2 contain the trances for the oral nerve fibers seperated by ANC exit location (ExA or InA). These traces were found using SNT to trace out nerves on a transverse wholemount immunohistochemistry with acetylated alpha tubulin. 

**Hardware Requirements:** 

A standard computer with enough RAM to run python and ImageJ/FIJI is required. 
 
**OS Requirements:**

This code is supported on Windows OS and macOS. 
It has been tested on Windows v. 10.0.19045, macOS Catalina v.10.15.7.

**Dependencies:**

These analyses are built off of Simple Neurite Tracer v.4.2.0 and PyImageJ. 

To install, first create a "pyimagej" enviroment according to the instructions found here under "To Install pyimagej":
https://github.com/morphonets/SNT/tree/main/notebooks

Then, install these additional dependencies in the pyimagej enviroment:

conda activate pyimagej

conda install pyqt jupyterlab matplotlib pandas seaborn scikit-learn

For additional troubleshooting, refer to https://pypi.org/project/pyimagej/. 
 
**Time to install:**

Approximately 10 minutes
**************************************************
**Instructions to run:**

All code are in jupyter notebooks, so output is visible without running. 

To open, first open terminal in macOS or Anaconda prompt (or equivalent) in Windows. cd into the folder where the code is located, activate the pyimagej environment, then type "jupyter lab" to open jupyter lab in Chrome (or other default browser). The notebooks should then be accessible by clicking on them one by one. 

avgNerveTrajectory.ipynb 

Analyzes data/TipAlphaTub/aboral and data/TipAlphaTub/central

Expected run time: 15 - 30 seconds

1. Open code in jupyter lab
2. Change the data path to reflect its location and the appropriate syntax on your personal computer 
3. Run code either cell by cell (control + enter) or run all cells at once
4. Expected output:
   
	a. plot of aboral nerve fibers average trajectory

	b. plot of central nerve fibers average trajectory 

brachialTipDistribution.ipynb

Analyzes data/TipAlphaTub/aboral and data/TipAlphaTub/central

Expected run time: 10 - 15 seconds

1. Open code in jupyter lab
2. Change the data path to reflect its location and the appropriate syntax on your personal computer 
3. Run code either cell by cell (control + enter) or run all cells at once
4. Expected output:
   
	a. plot of actual brachial nerve tip distribution

	b. plot of hypothetical brachial nerve tip distribution

	
shollPlots.ipynb 

Analyzes data/TipAlphaTub/ShollAnalysis/Aboral

Expected run time: 10-20 seconds

1. Open code in jupyter lab
2. Change the data path to reflect its location and the appropriate syntax on your personal computer 
3. Run code either cell by cell (control + enter) or run all cells at once
4. Expected output:
   
	a. plot of aboral nerve fiber sholl plots 

suckerTipDistribution.ipynb

Analyzes data/Sucker/AT_Tran_ESOral_2 and data/Sucker/AT_Tran_ISOral_2 

Expected run time: 10-25 seconds

1. Open code in jupyter lab
2. Change the data path to reflect its location and the appropriate syntax on your personal computer 
3. Run code either cell by cell (control + enter) or run all cells at once
4. Expected output:
   
	a. plot of oral nerve tips tagged by color

	b. percentage of converage of the sucker by each side of the ANC 
